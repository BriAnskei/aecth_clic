<ContentDialog
    x:Class="aesth_clic.Views.Roles.SuperAdmin.Modals.EditClient"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="Edit Client"
    PrimaryButtonText="Save Changes"
    CloseButtonText="Cancel"
    DefaultButton="Primary"
    PrimaryButtonClick="OnSaveClicked">

    <ContentDialog.Resources>
        <Style x:Key="SectionLabelStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="11" />
            <Setter Property="FontWeight" Value="SemiBold" />
            <Setter Property="Foreground" Value="{ThemeResource TextFillColorSecondaryBrush}" />
            <Setter Property="CharacterSpacing" Value="50" />
            <Setter Property="Margin" Value="0,0,0,4" />
        </Style>

        <Style x:Key="FieldLabelStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="13" />
            <Setter Property="FontWeight" Value="SemiBold" />
            <Setter Property="Margin" Value="0,0,0,4" />
        </Style>

        <Style x:Key="FieldHintStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="10" />
            <Setter Property="Foreground" Value="{ThemeResource TextFillColorSecondaryBrush}" />
            <Setter Property="Margin" Value="0,0,0,4" />
        </Style>

        <Style x:Key="HeaderIconButtonStyle" TargetType="Button">
            <Setter Property="Padding" Value="6,3" />
            <Setter Property="MinWidth" Value="0" />
            <Setter Property="CornerRadius" Value="4" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
        </Style>
    </ContentDialog.Resources>

    <StackPanel Spacing="16" Width="500">

        <!-- ══════════════════════════════════════
             SECTION 1 · Personal Info
        ══════════════════════════════════════ -->
        <StackPanel Spacing="4">
            <TextBlock Text="PERSONAL INFORMATION" Style="{StaticResource SectionLabelStyle}" />

            <!-- Row 1: Full Name | Email -->
            <Grid ColumnSpacing="12" Margin="0,6,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0">
                    <TextBlock Text="Full Name" Style="{StaticResource FieldLabelStyle}" />
                    <TextBox x:Name="FieldFullName"
                             PlaceholderText="e.g. Maria Santos" />
                </StackPanel>

                <StackPanel Grid.Column="1">
                    <TextBlock Text="Email Address" Style="{StaticResource FieldLabelStyle}" />
                    <TextBox x:Name="FieldEmail"
                             PlaceholderText="e.g. maria@clinic.com" />
                </StackPanel>
            </Grid>

            <!-- Row 2: Phone | Clinic Name -->
            <Grid ColumnSpacing="12" Margin="0,10,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0">
                    <TextBlock Text="Phone Number" Style="{StaticResource FieldLabelStyle}" />
                    <TextBox x:Name="FieldPhone"
                             PlaceholderText="e.g. 09XX-XXX-XXXX" />
                </StackPanel>

                <StackPanel Grid.Column="1">
                    <TextBlock Text="Clinic / Company Name" Style="{StaticResource FieldLabelStyle}" />
                    <TextBox x:Name="FieldClinicName"
                             PlaceholderText="e.g. Santos Aesthetic Clinic" />
                </StackPanel>
            </Grid>
        </StackPanel>

        <!-- Divider -->
        <Border Height="1" Background="{ThemeResource DividerStrokeColorDefaultBrush}" />

        <!-- ══════════════════════════════════════
             SECTION 2 · Login Credentials
        ══════════════════════════════════════ -->
        <StackPanel Spacing="4">

            <!-- Section header row with action buttons -->
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" VerticalAlignment="Center">
                    <TextBlock Text="LOGIN CREDENTIALS" Style="{StaticResource SectionLabelStyle}" Margin="0" />
                    <TextBlock Text="These will be used by the client to log in to the system."
                               Style="{StaticResource FieldHintStyle}" Margin="0" />
                </StackPanel>

                <!-- Action buttons: Show User | Show Pass | Copy -->
                <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="4" VerticalAlignment="Center">
                    <Button Click="ToggleUsername_Click"
                            Style="{StaticResource HeaderIconButtonStyle}"
                            ToolTipService.ToolTip="Show / Hide Username">
                        <StackPanel Orientation="Horizontal" Spacing="4">
                            <FontIcon x:Name="ToggleUsernameIcon" Glyph="&#xE7B3;" FontSize="12" />
                            <TextBlock Text="User" FontSize="11" />
                        </StackPanel>
                    </Button>
                    <Button Click="TogglePassword_Click"
                            Style="{StaticResource HeaderIconButtonStyle}"
                            ToolTipService.ToolTip="Show / Hide Password">
                        <StackPanel Orientation="Horizontal" Spacing="4">
                            <FontIcon x:Name="TogglePasswordIcon" Glyph="&#xE7B3;" FontSize="12" />
                            <TextBlock Text="Pass" FontSize="11" />
                        </StackPanel>
                    </Button>
                    <Button Click="CopyCredentials_Click"
                            Style="{StaticResource HeaderIconButtonStyle}"
                            ToolTipService.ToolTip="Copy username and password to clipboard">
                        <StackPanel Orientation="Horizontal" Spacing="4">
                            <FontIcon Glyph="&#xE8C8;" FontSize="12" />
                            <TextBlock Text="Copy" FontSize="11" />
                        </StackPanel>
                    </Button>
                </StackPanel>
            </Grid>

            <!-- Row 3: Username -->
            <Grid Margin="0,6,0,0">
                <StackPanel>
                    <TextBlock Text="Username" Style="{StaticResource FieldLabelStyle}" />
                    <PasswordBox x:Name="FieldUsername"
                                 PlaceholderText="Enter login username"
                                 PasswordRevealMode="Hidden" />
                </StackPanel>
            </Grid>

            <!-- Row 4: Password | Confirm Password -->
            <Grid ColumnSpacing="12" Margin="0,10,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <!-- Password -->
                <StackPanel Grid.Column="0">
                    <TextBlock Text="New Password" Style="{StaticResource FieldLabelStyle}" />
                    <TextBlock Text="Leave blank to keep current password"
                               Style="{StaticResource FieldHintStyle}" />
                    <PasswordBox x:Name="FieldPassword"
                                 PlaceholderText="Enter new password"
                                 PasswordRevealMode="Hidden" />
                </StackPanel>

                <!-- Confirm Password -->
                <StackPanel Grid.Column="1">
                    <TextBlock Text="Confirm New Password" Style="{StaticResource FieldLabelStyle}" />
                    <TextBlock Text="Leave blank to keep current password"
                               Style="{StaticResource FieldHintStyle}" />
                    <PasswordBox x:Name="FieldConfirmPassword"
                                 PlaceholderText="Re-enter new password"
                                 PasswordRevealMode="Hidden" />
                </StackPanel>
            </Grid>
        </StackPanel>

        <!-- Validation InfoBar -->
        <InfoBar
            x:Name="ValidationBar"
            IsOpen="False"
            Severity="Error"
            IsClosable="False" />

    </StackPanel>
</ContentDialog>
